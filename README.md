# 멘토용 Workspace

레포지토리: `https://github.com/Jaegwae/mentor-forum`

이 저장소는 다음 두 작업물을 함께 관리합니다.

1. Google Apps Script 기반 파일 세트 (`Code.gs`, `appsscript.json` 등)
2. React + Firebase 기반 웹앱 (`mentor-forum-react/`)

## V1 포함 기능

### 사용자 기능
- 로그인 / 회원가입
- 게시판 탐색 및 게시글 목록 조회
- 게시글 작성/조회/댓글 작성
- 내가 쓴 글 / 내가 쓴 댓글 모아보기
- 알림 센터(새 글, 댓글, 멘션)
- 라이트/다크 모드 전환
- 사용 설명서 모달
- 로그인 유지 옵션 + 미선택 시 자동 로그아웃(연장 버튼 포함)

### 운영/권한 기능
- 역할(Role) 기반 접근 제어
- 게시판별 권한 정책
- 관리자 사이트(권한 계정 전용)
- Firestore Rules 기반 데이터 접근 제어

### 특화 기능
- `cover_for` 게시판의 대체근무 요청 작성(날짜/시간/체험관 입력)

## 기능별 사용 방법

### 1) 로그인 / 회원가입
1. `/login`에서 이메일, 비밀번호를 입력해 로그인합니다.
2. 계정이 없으면 `/signup`에서 회원가입 후 이메일 인증을 완료합니다.
3. 로그인 유지 옵션을 끄면 일정 시간이 지나 자동 로그아웃되며, 상단 안내에서 세션 연장이 가능합니다.

### 2) 게시판 탐색
1. 좌측 게시판 목록에서 원하는 게시판을 선택합니다.
2. 게시판을 바꾸면 목록이 해당 게시판 기준으로 즉시 갱신됩니다.
3. 모바일에서는 우측 상단 메뉴(`☰`)를 열어 게시판을 선택합니다.

### 3) 글 쓰기
1. 글을 올릴 게시판을 먼저 선택합니다.
2. 우측 하단 `글쓰기` 버튼을 누릅니다.
3. 작성 모달에서 제목/본문을 입력합니다.
4. `글 등록` 버튼으로 등록합니다.
5. `전체 게시글` 화면에서는 글쓰기 버튼이 숨겨지고, 게시판 화면에서만 작성할 수 있습니다.

### 4) 게시글 상세 / 댓글
1. 목록에서 게시글 제목을 누르면 상세 화면으로 이동합니다.
2. 상세 화면에서 댓글 입력 후 등록할 수 있습니다.
3. 작성자 본인 또는 권한 사용자 계정은 수정/삭제 버튼이 노출됩니다.
4. `목록으로` 버튼으로 현재 게시판 목록으로 돌아갈 수 있습니다.

### 5) 내 정보 영역 사용법
- 내 정보 상단 벨 아이콘: 알림 센터 열기
- `내가 쓴 글`: 내가 작성한 글 목록 페이지로 이동
- `내가 쓴 댓글`: 내가 작성한 댓글 목록 페이지로 이동
- `로그아웃`: 현재 세션 종료

모바일에서도 메뉴(`☰`) 안의 내 정보 영역에서 같은 버튼을 동일하게 사용할 수 있습니다.

### 6) 내가 쓴 글 활용
1. `내가 쓴 글`에서 내가 작성한 글을 최신순으로 확인합니다.
2. 목록 행(또는 모바일 카드)을 누르면 해당 글 상세 화면으로 이동합니다.
3. 게시판/작성일/조회수 기준으로 빠르게 내 활동을 확인할 수 있습니다.

### 7) 내가 쓴 댓글 활용
1. `내가 쓴 댓글`에서 댓글 목록을 확인합니다.
2. 댓글 항목을 누르면 원본 게시글로 이동합니다.
3. 댓글 ID를 함께 전달해 내 댓글 위치로 바로 스크롤되도록 동작합니다.

### 8) 알림 센터
1. 내 정보의 벨 아이콘을 눌러 알림 센터를 엽니다.
2. 새 글/댓글/멘션 알림을 확인할 수 있습니다.
3. 알림 항목을 누르면 해당 게시글 위치로 이동합니다.
4. 알림 종류/게시판별 수신 설정을 켜고 끌 수 있습니다.

### 9) 테마 / 사용 설명서
- 상단 `라이트/다크` 버튼으로 테마를 전환할 수 있습니다.
- 상단 `사용 설명서` 버튼으로 모달 설명서를 열어 주요 기능을 빠르게 확인할 수 있습니다.

### 10) `cover_for` 게시판 사용법
1. `cover_for` 게시판 선택 후 `글쓰기`를 누릅니다.
2. 날짜, 시작/종료 시간, 체험관 정보를 입력합니다.
3. 필요한 경우 여러 날짜를 추가해 한 번에 요청을 등록할 수 있습니다.
4. 등록된 요청은 캘린더/목록에서 상태와 함께 확인할 수 있습니다.

### 11) 관리자 사이트 (권한 계정)
- 권한 계정에서만 관리자 사이트 버튼이 표시됩니다.
- 역할/게시판/권한 관련 운영 작업을 수행할 수 있습니다.

## 저장소 구조

```text
멘토용/
├─ Code.gs
├─ Docs.html
├─ JavaScriptCore.html
├─ JavaScriptData.html
├─ index.html
├─ mentorforum.html
├─ style.html
├─ appsscript.json
├─ .clasp.json
└─ mentor-forum-react/
   ├─ src/
   ├─ firebase.json
   ├─ firestore.rules
   ├─ package.json
   └─ ...
```

## 시작하기

### 저장소 받기

```bash
git clone https://github.com/Jaegwae/mentor-forum.git
cd mentor-forum
```

### 변경사항 저장 기본 흐름

```bash
git add .
git commit -m "작업 내용"
git push
```

## React 웹앱 실행 (`mentor-forum-react`)

```bash
cd mentor-forum-react
npm install
npm run dev
```

### 빌드

```bash
npm run build
npm run preview
```

### Firebase 배포

```bash
firebase deploy --only hosting,firestore:rules --project guro-mentor-forum
```

## Apps Script 메모

- Apps Script 메타 정보는 `appsscript.json`, `.clasp.json`에 있습니다.
- `clasp` 사용 시 프로젝트 설정(`scriptId`)은 `.clasp.json`을 통해 연결됩니다.
